(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();class T{#t=document.createElement("div");#e=document.createElement("div");#s=["gary.png","krabs.png","patrick.png","sandy.png","spongebob.png","squidward.png","zombies.png","planets.png","plankton.png"];#r=[0,1,2,3,4,5,6,7];#n="./img/cards/";#a=document.createElement("div");#i=null;#o=document.createElement("div");#h=document.createElement("p");#c=0;#m=0;#p=!0;#u=0;#g=[];#l=0;#d=null;#v=e=>{this.flip(e)};#L=e=>{this.keys(e)};constructor(){this.#t.classList.add("game-div"),this.#e.classList.add("game-memory"),this.#o.classList.add("attempts"),this.#o.style.color="white",this.#h.innerHTML=`Attempts: ${this.#c}`,this.#o.appendChild(this.#h),this.#a.classList.add("start-div"),this.createStartDiv()}getDiv(){return this.#t}createStartDiv(){this.#t.replaceChildren(),this.#a.replaceChildren();const e=document.createElement("img");e.classList.add("logo"),e.src="./img/logos/icons8-memory-game-64.png",this.#a.appendChild(e),this.createStartBtn("Hard",4),this.createStartBtn("Normal",3),this.createStartBtn("Easy",2)}createStartBtn(e,t){const s=document.createElement("button");s.classList.add("startBtn"),s.innerText=e,s.onclick=this.btnListner(t),this.#a.appendChild(s),this.#t.appendChild(this.#a),this.#g.push(s)}btnListner(e){return()=>{this.#e.style.display="grid",this.#e.style.gridTemplateColumns=`repeat(${e}, 1fr)`,this.#t.replaceChildren(),this.#e.replaceChildren(),this.#m=e==2?e:e*2,this.createGame()}}createGame(){const e=document.createElement("div");e.classList.add("top-div-of-game");const t=document.createElement("button");t.classList.add("hintBtn"),t.innerText="Hint",e.appendChild(t),e.appendChild(this.#o),this.#d=null,this.#i=null,this.#l=0,this.#c=0,this.#u=0,this.#h.innerHTML=`Attempt  times: ${this.#c}`,this.#t.appendChild(e),this.#t.appendChild(this.#e);const s=[],i=[];this.#r.sort(()=>Math.random()-.5);let a=0;for(const r of this.#r){if(a===this.#m)break;const o=document.createElement("div");o.classList.add("card-div");const p=document.createElement("img");p.classList.add("back-side"),p.src="./img/logos/icons8-memory-game-64.png",o.appendChild(p);const m=document.createElement("img");m.classList.add("card"),m.src=`${this.#n}${this.#s[r]}`,m.id=r,o.appendChild(m),this.#e.appendChild(o),i.push(o.cloneNode(!0)),s.push(o),a++}i.sort(()=>Math.random()-.5),i.forEach(r=>{s.push(r),this.#e.appendChild(r)}),s.forEach(r=>{r.classList.toggle("flipped")}),setTimeout(()=>{s.forEach(r=>{r.classList.toggle("flipped"),this.addCardListeners(r)})},2e3),this.#t.parentElement.parentElement.addEventListener("keydown",this.#L),this.#t.parentElement.parentElement.tabIndex=0,this.#t.parentElement.parentElement.focus(),this.#t.addEventListener("mouseover",r=>{this.#d!==null&&this.#d.classList.remove("current-card")});let d=3;setTimeout(()=>{t.addEventListener("click",()=>{if(d===0){t.innerHTML="No more hints";return}this.#p=!1;let r=s[Math.random()*s.length|0];r.classList.contains("flipped")&&s.forEach(o=>{if(!o.classList.contains("flipped")){r=o;return}}),r.classList.toggle("flipped"),setTimeout(()=>{r.classList.toggle("flipped"),this.#p=!0},500),d--})},2e3)}async flip(e){if(!this.#p)return;let t=e.target.parentElement;t.classList.contains("card-div")||(t=e.target),t.classList.contains("card-div")||(t=this.#d),this.#i===null?(t.classList.toggle("flipped"),this.#i=t,this.removeCardListeners(this.#i)):this.#i.childNodes[1].id===t.childNodes[1].id?(t.classList.toggle("flipped"),this.#p=!1,await new Promise(()=>setTimeout(async()=>{this.#i.childNodes[1].classList.add("correct"),t.childNodes[1].classList.add("correct"),await new Promise(()=>setTimeout(()=>{this.#i.childNodes[1].classList.remove("correct"),t.childNodes[1].classList.remove("correct"),this.#i=null,this.removeCardListeners(t),this.#p=!0,this.#c++,this.#h.innerHTML=`Attempts: ${this.#c}`,this.#u++,this.checkWin()},750))},200))):(this.#p=!1,t.classList.toggle("flipped"),await new Promise(()=>setTimeout(async()=>{this.#i.childNodes[1].classList.add("wrong"),t.childNodes[1].classList.add("wrong"),await new Promise(()=>setTimeout(()=>{this.#i.childNodes[1].classList.remove("wrong"),t.childNodes[1].classList.remove("wrong"),t.classList.toggle("flipped"),this.#i.classList.toggle("flipped"),this.addCardListeners(this.#i),this.#i=null,this.#p=!0,this.#c++,this.#h.innerHTML=`Attempts: ${this.#c}`},750))},200)))}checkWin(){if(this.#u===this.#m){const e=document.createElement("div");e.classList.add("win");const t=document.createElement("button");t.innerText="Play again";const s=document.createElement("p");s.innerText=`You won in ${this.#c} attempts!`,t.addEventListener("click",()=>{this.#t.replaceChildren(),this.createStartDiv()}),e.appendChild(s),e.appendChild(t),this.#t.appendChild(e)}}addCardListeners(e){e.addEventListener("click",this.#v)}removeCardListeners(e){e.removeEventListener("click",this.#v)}keys(e){if(this.#d==null)this.#d=this.#e.childNodes[0],this.#d.classList.add("current-card"),this.#l=0;else{if(e.key==="ArrowRight"&&(this.#l++,this.#l>=this.#e.childNodes.length&&(this.#l=0),this.#d.classList.remove("current-card"),this.#d=this.#e.childNodes[this.#l],this.#d.classList.add("current-card")),e.key==="ArrowLeft"&&(this.#l--,this.#l<0&&(this.#l=this.#e.childNodes.length-1),this.#d.classList.remove("current-card"),this.#d=this.#e.childNodes[this.#l],this.#d.classList.add("current-card")),e.key==="ArrowUp"){const t=this.#m==2?4:this.#m;this.#l<t/2||(this.#l-=t/2,this.#d.classList.remove("current-card"),this.#d=this.#e.childNodes[this.#l],this.#d.classList.add("current-card"))}if(e.key==="ArrowDown"){const t=this.#m==2?4:this.#m;this.#l>=this.#e.childNodes.length-t/2||(this.#l+=t/2,this.#d.classList.remove("current-card"),this.#d=this.#e.childNodes[this.#l],this.#d.classList.add("current-card"))}if(e.key==="Enter"||e.key===" "){if(this.#d.classList.contains("flipped"))return;this.flip(e)}}}}const v={ws:null,listeners:[],init:function(n){return this.ws===null&&(this.ws=new WebSocket("wss://courselab.lnu.se/message-app/socket"),this.ws.addEventListener("message",e=>{JSON.parse(e.data).username==="The Server"||JSON.parse(e.data).username==="Server"||(this.cacheMsgs([JSON.parse(e.data).username,JSON.parse(e.data).data,JSON.parse(e.data).channel]),this.notify(e))}),this.ws.addEventListener("close",()=>{this.ws=null,this.listeners=[]})),this.listeners.push(n),n.readCahsedMsgs("General"),this.ws},remove:function(n){this.listeners.pop(n),this.listeners.length===0&&this.ws.close()},notify:function(n){this.listeners.forEach(e=>{e.newMsg(n)})},cacheMsgs:function(n){let e=JSON.parse(localStorage.getItem("Any")),t=null;if(n[2]==="General"||n[2]==="Encrypted"||n[2]==="general"||n[2]==="encrypted"){for(t=JSON.parse(localStorage.getItem(n[2])),t===null&&(t=[]),t.push({username:n[0],msg:n[1],time:new Date().toLocaleTimeString()});t.length>30;)t.shift();localStorage.setItem(n[2],JSON.stringify(t))}for(e===null&&(e=[]),e.push({username:n[0],msg:n[1],time:new Date().toLocaleTimeString(),channel:n[2]});e.length>30;)e.shift();localStorage.setItem("Any",JSON.stringify(e))}};class M{#t=document.createElement("div");#e=null;#s=null;#r=e=>{this.checkUsername(e)};#n="eDBE76deU7L0H9mEBgxUKVR0VCnq0XBd";d={type:"message",data:"The message text is sent using the data property",username:localStorage.getItem("username"),channel:"General",key:"eDBE76deU7L0H9mEBgxUKVR0VCnq0XBd"};constructor(){this.#t.classList.add("chatt"),this.#t.addEventListener("max",()=>{this.#e.classList.add("max"),this.#e.scrollTop=this.#e.scrollHeight}),this.#t.addEventListener("min",()=>{this.#e.classList.remove("max"),this.#e.scrollTop=this.#e.scrollHeight}),localStorage.getItem("username")===null?this.createUsernameDiv():(this.d.username=localStorage.getItem("username"),this.createChattDiv())}getDiv(){return this.#t}createUsernameDiv(){const e=document.createElement("div"),t=document.createElement("h1");t.innerHTML=" Welcome to Chat App";const s=document.createElement("h3");s.innerHTML="Enter your username.",e.appendChild(t),e.appendChild(s),e.classList.add("username-div");const i=document.createElement("input");i.classList.add("username"),i.placeholder="Username",i.addEventListener("focus",d=>{i.placeholder=""}),i.addEventListener("blur",d=>{i.placeholder="Username"}),i.addEventListener("keyup",d=>{switch(d.key){case"Enter":this.checkUsername(d);break}});const a=document.createElement("button");a.classList.add("usernameButton"),a.innerHTML="Set username",e.appendChild(i),e.appendChild(a),a.addEventListener("click",this.#r),this.#t.appendChild(e)}checkUsername(e){e.preventDefault();const t=document.querySelector(".username"),s=/[^a-zA-Z0-9]/g;if(t.value==="")alert("Please enter a username");else if(s.test(t.value))alert("Please enter a valid username");else{const i=t.value;localStorage.setItem("username",i),this.d.username=i,this.#t.removeChild(this.#t.childNodes[0]),this.createChattDiv()}}createChattDiv(){const e=document.createElement("div");e.classList.add("chatt-div");const t=this.chattHeader();e.appendChild(t),this.#e=document.createElement("div"),this.#e.classList.add("chatt-body"),e.appendChild(this.#e);const s=this.chattFooter();e.appendChild(s),this.#t.appendChild(e),this.initWebSocket()}initWebSocket(){v.init(this),this.#t.addEventListener("closeSocket",()=>{v.remove(this)})}newMsg(e){const t=document.createElement("div"),s=document.createElement("p");s.innerHTML="Channel: "+JSON.parse(e.data).channel+" | "+new Date().toLocaleString();const i=document.createElement("p");i.classList.add("msg"),JSON.parse(e.data).username===this.d.username&&(t.style.backgroundColor="rgb(2, 54, 167)",t.style.marginLeft="28%"),i.innerHTML=JSON.parse(e.data).username+": "+JSON.parse(e.data).data,t.appendChild(i),t.appendChild(s),this.d.channel==="General"?(JSON.parse(e.data).channel==="General"||JSON.parse(e.data).channel==="general")&&this.#e.appendChild(t):this.d.channel==="Encrypted"?(JSON.parse(e.data).channel==="Encrypted"||JSON.parse(e.data).channel==="encrypted")&&(i.innerHTML=JSON.parse(e.data).username+": "+this.decrypt(JSON.parse(e.data).data),this.#e.appendChild(t)):this.#e.appendChild(t),this.#e.scrollTop=this.#e.scrollHeight}sendMsg(e){!v.ws||v.ws.readyState!==WebSocket.OPEN||(this.d.channel==="Encrypted"?this.d.data=this.encrypt(e):this.d.data=e,console.log("here"),v.ws.send(JSON.stringify(this.d)))}chattHeader(){const e=document.createElement("div");e.classList.add("chatt-header");const t=document.createElement("div"),s=document.createElement("p");s.classList.add("username"),s.innerHTML="Username: "+localStorage.getItem("username"),t.appendChild(s);const i=document.createElement("button");i.classList.add("changeUserBtn"),i.innerHTML="Change user",t.appendChild(i);const a=document.createElement("input");a.addEventListener("keyup",g=>{switch(g.key){case"Enter":/[^a-zA-Z0-9]/g.test(a.value)?alert("Please enter a valid username"):(localStorage.setItem("username",a.value),s.innerHTML="Username: "+localStorage.getItem("username"),t.removeChild(a),t.appendChild(i),this.d.username=localStorage.getItem("username"));break}}),a.addEventListener("blur",g=>{new Promise(N=>setTimeout(()=>{t.contains(a)&&(t.removeChild(a),t.appendChild(i))},10)),s.innerHTML="Username: "+localStorage.getItem("username")}),i.addEventListener("click",g=>{s.innerHTML="Username: ",t.replaceChildren(s,a),a.focus()}),e.appendChild(t);const d=document.createElement("div"),r=document.createElement("p");r.innerHTML="Channel: ";const o=document.createElement("select");o.classList.add("channelSelect");const p=document.createElement("option");p.innerHTML="General";const m=document.createElement("option");m.innerHTML="Encrypted";const b=document.createElement("option");b.innerHTML="Any",o.addEventListener("change",g=>{this.d.channel=o.options[o.selectedIndex].value,this.readCahsedMsgs(this.d.channel)}),o.appendChild(p),o.appendChild(m),o.appendChild(b),r.appendChild(o),d.appendChild(r);const L=document.createElement("button");return L.classList.add("clearBtn"),L.innerHTML="Clear Chatt",L.addEventListener("click",g=>{this.#e.innerHTML="",localStorage.setItem(this.d.channel,null)}),d.appendChild(L),e.appendChild(d),e}chattFooter(){const e=document.createElement("div");e.classList.add("chatt-footer");const t=document.createElement("button");t.classList.add("emojiButton"),t.innerHTML="❤️";const s=this.createEmojies();s.style.display="none",e.appendChild(s),t.addEventListener("click",a=>{s.style.display==="none"?s.style.display="block":s.style.display="none"}),e.appendChild(t),this.#s=document.createElement("input"),this.#s.classList.add("chattInput"),this.#s.placeholder="Message",this.#s.addEventListener("keyup",a=>{switch(a.key){case"Enter":if(this.#s.value==="")break;this.sendMsg(this.#s.value),this.#s.value="";break}}),e.appendChild(this.#s);const i=document.createElement("button");return i.classList.add("chattButton"),i.innerHTML="Send",i.addEventListener("click",a=>{this.#s.value!==""&&(this.sendMsg(this.#s.value),this.#s.value="")}),e.appendChild(i),e}createEmojies(){const e=document.createElement("div");e.classList.add("emoji-div");for(let t=128512;t<128592;t++){const s=t.toString(16),i=String.fromCodePoint(`0x${s}`),a=document.createElement("button");a.innerHTML=i,a.addEventListener("click",d=>{this.#s.value+=i,e.style.display="none"}),e.appendChild(a)}for(let t=128636;t<128700;t++){const s=t.toString(16),i=String.fromCodePoint(`0x${s}`),a=document.createElement("button");a.innerHTML=i,a.addEventListener("click",d=>{this.#s.value+=i,e.style.display="none"}),e.appendChild(a)}return e}readCahsedMsgs(e){this.#e.replaceChildren();const t=JSON.parse(localStorage.getItem(e));if(t!==null)for(let s=0;s<t.length;s++){const i=document.createElement("p");e==="Any"?i.innerHTML="Channel: "+t[s].channel+" | "+t[s].time:i.innerHTML="Channel: "+e+" | "+t[s].time;const a=document.createElement("div"),d=document.createElement("p");e==="Encrypted"?d.innerHTML=t[s].username+": "+this.decrypt(t[s].msg):d.innerHTML=t[s].username+": "+t[s].msg,a.appendChild(d),a.appendChild(i),this.#e.appendChild(a),t[s].username===this.d.username&&(a.style.marginLeft="28%",a.style.backgroundColor="rgb(2, 54, 167)"),this.#e.scrollTop=this.#e.scrollHeight}}encrypt(e){let t="";for(let s=0;s<e.length;s++)t+=String.fromCharCode(e.charCodeAt(s)^this.#n.charCodeAt(s%this.#n.length));return t}decrypt(e){let t="";for(let s=0;s<e.length;s++)t+=String.fromCharCode(e.charCodeAt(s)^this.#n.charCodeAt(s%this.#n.length));return t}}class I{#t=document.createElement("div");elementbar=document.createElement("div");#e=null;#s=0;#r=!1;#n={left:0,top:0};#a=document.createElement("button");#i=document.createElement("button");#o=document.createElement("button");#h=document.createElement("button");#c=null;#m=new Event("max");#p=new Event("min");#u=null;#g=new Event("closeSocket");constructor(e){this.#e=e,this.#c=new CustomEvent("closewindow",{detail:{win:this.#e},bubbles:!0}),this.#t.classList.add("top-bar"),this.elementbar.classList.add("elementbar"),this.#t.appendChild(this.elementbar);const t=document.createElement("operation-div");t.classList.add("operation-div"),this.#a.classList.add("close"),t.appendChild(this.#a),this.#a.tabIndex=-1,this.#i.classList.add("maximize"),t.appendChild(this.#i),this.#i.tabIndex=-1,this.#o.classList.add("minimize"),t.appendChild(this.#o),this.#o.tabIndex=-1,this.#h.classList.add("hide"),t.appendChild(this.#h),this.#h.tabIndex=-1,this.#t.appendChild(t)}getDiv(){return this.#t}addListeners(){this.#a.addEventListener("click",()=>{this.#a.dispatchEvent(this.#c),this.#u.childNodes[0].dispatchEvent(this.#g),this.#t.parentNode.remove()}),this.#i.addEventListener("click",()=>this.maximize()),this.#o.addEventListener("click",()=>this.minimize()),this.#h.addEventListener("click",()=>this.hide()),this.#t.parentNode.addEventListener("keyup",e=>{switch(e.key){case"Escape":this.#a.dispatchEvent(this.#c),this.#u.childNodes[0].dispatchEvent(this.#g),this.#t.parentNode.remove();break;case"PageUp":this.maximize();break;case"PageDown":this.minimize();break;case"End":this.hide()}})}replaceElementBar(){this.elementbar=document.createElement("div"),this.#t.replaceChild(this.elementbar,this.#t.childNodes[0]),this.elementbar.classList.add("elementbar")}maximize(){this.#u.childNodes[0].dispatchEvent(this.#m),this.#r=!0,this.#e.getDiv().classList.add("maxed"),this.#e.removeListeners(),this.#n.left=this.#e.getDiv().offsetLeft,this.#n.top=this.#e.getDiv().offsetTop;const e=document.getElementById("desktop");this.#e.getDiv().style.top="0px",this.#e.getDiv().style.left="90px",this.#e.getDiv().style.height=e.offsetHeight+"px",this.#e.getDiv().style.width=e.offsetWidth-105+"px",this.#i.style.display="none",this.#o.style.display="block"}minimize(){this.#u.childNodes[0].dispatchEvent(this.#p),this.#r!==!1&&(this.#e.getDiv().classList.remove("maxed"),this.#r=!1,this.#e.addListeners(),this.#e.getDiv().style.top=this.#n.top+"px",this.#e.getDiv().style.left=this.#n.left+"px",this.#e.getDiv().style.height="auto",this.#e.getDiv().style.width="700px",this.#i.style.display="block",this.#o.style.display="none")}hide(){this.#e.getDiv().classList.add("hidden")}assingContainer(e){this.#u=e}}class H{#t=document.createElement("div");#e=document.createElement("button");#s=document.createElement("input");#r=document.createElement("textarea");#n=document.createElement("div");#a=document.createElement("button");constructor(){this.#t.classList.add("notesdiv");const e=document.createElement("h2");e.textContent="Add Your Note",this.#t.appendChild(e),this.#e.id="save-note",this.#e.textContent="Save",this.#s.id="note-title",this.#s.placeholder="Note Title",this.#r.id="note-content",this.#r.placeholder="Note Content",this.#n.id="notes-list",this.#a.id="remove-note",this.#a.textContent="Remove",this.#t.appendChild(this.#s),this.#t.appendChild(this.#r),this.#t.appendChild(this.#e),this.#t.appendChild(this.#n),this.#t.appendChild(this.#a),this.#o(),this.#e.addEventListener("click",()=>{const t=this.#s.value.trim(),s=this.#r.value.trim();t&&s&&(this.#i({title:t,content:s,id:new Date().getTime()}),this.#s.value="",this.#r.value="")}),this.#a.addEventListener("click",()=>{this.#c()})}getDiv(){return this.#t}#i(e){let t=JSON.parse(localStorage.getItem("notes"))||[];t.push(e),localStorage.setItem("notes",JSON.stringify(t)),this.#h(e)}#o(){(JSON.parse(localStorage.getItem("notes"))||[]).forEach(t=>this.#h(t))}#h(e){const t=document.createElement("div");t.className="note",t.dataset.id=e.id,t.innerHTML=`<h3>${e.title}</h3><p>${e.content}</p>`,t.addEventListener("click",()=>{this.#n.querySelectorAll(".note").forEach(s=>s.classList.remove("selected")),t.classList.add("selected")}),this.#n.appendChild(t)}#c(){const e=this.#n.querySelector(".selected");if(e){const t=e.dataset.id;let s=JSON.parse(localStorage.getItem("notes"))||[];s=s.filter(i=>i.id!==parseInt(t)),localStorage.setItem("notes",JSON.stringify(s)),e.remove()}}}class B{#t=document.createElement("div");#e=new I(this);#s=!1;#r={x:0,y:0};#n=document.createElement("div");zIndex=0;title="";#a=e=>{this.mouseDown(e)};#i=()=>{this.mouseUp()};#o=e=>{this.moveWindow(e)};constructor(e){switch(this.title=e,this.appIcon="",this.#t.classList.add("window"),this.#t.appendChild(this.#e.getDiv()),this.addListeners(),this.#e.addListeners(),this.#n.classList.add("container"),this.#t.appendChild(this.#n),this.#e.assingContainer(this.#n),e){case"memory":this.#n.appendChild(new T().getDiv()),this.#e.elementbar.innerHTML="   SpongeBob SquarePants Game",this.appIcon='url("../img/logos/crab.png")';break;case"chat":this.#n.appendChild(new M().getDiv()),this.#e.elementbar.innerHTML="Chat Application",this.appIcon='url("../img/logos/chat3.png")';break;case"notebook":this.#n.appendChild(new H().getDiv()),this.#e.elementbar.innerHTML="Notebook App",this.appIcon='url("../img/logos/writing.png")';break}if(this.appIcon){const t=document.createElement("div");t.style.backgroundImage=this.appIcon,t.style.backgroundSize="contain",t.style.backgroundRepeat="no-repeat",t.style.width="20px",t.style.height="20px",t.style.marginRight="5px",this.#e.elementbar.insertBefore(t,this.#e.elementbar.firstChild)}}addListeners(){this.#e.elementbar.addEventListener("mouseout",()=>{this.#s=!1,this.#t.style.cursor="default"}),this.#e.elementbar.addEventListener("mousedown",this.#a),this.#e.elementbar.addEventListener("mouseup",this.#i),this.#e.elementbar.addEventListener("mousemove",this.#o)}getDiv(){return this.#t}mouseDown(e){e.preventDefault(),this.#t.style.cursor="move",this.#s=!0,this.#r={x:this.#t.offsetLeft-e.clientX,y:this.#t.offsetTop-e.clientY}}mouseUp(){this.#t.style.cursor="default",this.#s=!1}moveWindow(e){e.preventDefault(),this.#s&&(this.#t.style.left=e.clientX+this.#r.x+"px",this.#t.style.top=e.clientY+this.#r.y+"px")}setZindex(e){this.zIndex=e,this.#t.style.zIndex=e}removeListeners(){this.#e.elementbar.removeEventListener("mousedown",this.#a),this.#e.elementbar.removeEventListener("mouseup",this.#i),this.#e.elementbar.removeEventListener("mousemove",this.#o)}}const y=document.getElementById("desktop"),O=document.getElementById("bar");O.style.zIndex=1e3;const w=document.getElementById("openedApps"),E=[],A=document.getElementById("memoryapp"),J=document.getElementById("chattapp"),P=document.getElementById("notebook");let c=0;const h=[],f={left:90,top:10};A.addEventListener("click",n=>{n.preventDefault(),C("memory")});J.addEventListener("click",n=>{n.preventDefault(),C("chat")});P.addEventListener("click",n=>{n.preventDefault(),C("notebook")});function S(){c=0,h.sort((n,e)=>n.getZindex()<e.getZindex());for(let n=0;n<h.length;n++)h[n].setZindex(c),c++}function C(n){const e=new B(n);h.push(e),c+=1,e.setZindex(c),e.getDiv().addEventListener("mousedown",()=>{c+=1,c===900&&S(),e.setZindex(c)}),y.appendChild(e.getDiv()),e.getDiv().style.left=f.left+"px",e.getDiv().style.top=f.top+"px",f.left+=10,f.top+=10,e.getDiv().focus(),U(e,n+"App")}function U(n,e){const t=document.createElement("button");switch(t.classList.add(e),e){case"memoryApp":t.style.backgroundImage="url('../img/logos/icons8-memory-game-64.png')";break;case"chatApp":t.style.backgroundImage="url('../img/logos/icons8-chat-100.png')";break;case"notebookApp":t.style.backgroundImage="url('../img/logos/writing.png')";break}t.addEventListener("click",()=>{n.getDiv().classList.contains("hidden")&&n.getDiv().classList.remove("hidden"),n.getDiv().focus(),c+=1,c===900&&S(),n.setZindex(c)}),w.appendChild(t),E.push(t)}document.addEventListener("closewindow",function(n){if(h.includes(n.detail.win)){const e=h.indexOf(n.detail.win);w.removeChild(E[e]),y.removeChild(h[e].getDiv()),h.splice(e,1),E.splice(e,1)}});const l=document.createElement("div");l.classList.add("date-div");l.style.zIndex=1;l.style.position="absolute";l.style.top="0px";l.style.right="0px";l.style.padding="5px";l.style.backgroundColor="rgba(0, 0, 0, 0.5)";l.style.color="white";l.style.fontSize="1.5em";const u=new Date,z=u.getDay(),$=u.getMonth(),W=u.getFullYear(),j=u.getHours(),F=u.getMinutes(),G=u.getSeconds(),k=["Sunday","Monday","Tuesday","Wednsday","Thursday","Friday","Saturday"],D=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"];l.innerHTML=k[z]+" "+D[$]+" "+W+" "+j+":"+F+":"+G;y.appendChild(l);function x(){const n=new Date,e=n.getDay(),t=n.getMonth(),s=n.getFullYear(),i=String(n.getHours()).padStart(2,"0"),a=String(n.getMinutes()).padStart(2,"0"),d=String(n.getSeconds()).padStart(2,"0");l.innerHTML=`${k[e]} ${D[t]} ${s} ${i}:${a}:${d}`}x();setInterval(x,1e3);
